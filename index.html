<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Especialista – Diagnóstico de Doenças em Videiras</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="box">
    <h2>Diagnóstico de Doenças em Videiras</h2>
    <p>Selecione os sintomas observados na videira:</p>

    <label><input type="checkbox" id="manchasAmarelas"> Manchas amarelas nas folhas</label><br>
    <label><input type="checkbox" id="poeiraBranca"> Pó branco nas folhas</label><br>
    <label><input type="checkbox" id="frutosEscurecidos"> Frutos escurecidos</label><br>
    <label><input type="checkbox" id="folhasMurchas"> Folhas murchas</label><br>
    <label><input type="checkbox" id="cauleComLesoes"> Lesões no caule</label><br>
    <label><input type="checkbox" id="manchasMarrons"> Manchas marrons nas folhas</label><br>
    <label><input type="checkbox" id="mofoCinza"> Mofo cinza</label><br>
    <label><input type="checkbox" id="galhosQuebradicos"> Galhos quebradiços</label><br>
    <label><input type="checkbox" id="insetos"> Presença de insetos</label><br>
    <label><input type="checkbox" id="soloEncharcado"> Solo encharcado</label><br>

    <button onclick="diagnosticar()">Diagnosticar</button>

    <div id="resultado" class="resultado" style="display:none"></div>
</div>

<script>
function diagnosticar(){
    let r = document.getElementById("resultado");
    let manchas = document.getElementById("manchasAmarelas").checked;
    let poeira = document.getElementById("poeiraBranca").checked;
    let frutos = document.getElementById("frutosEscurecidos").checked;
    let murchas = document.getElementById("folhasMurchas").checked;
    let caule = document.getElementById("cauleComLesoes").checked;
    let manchasMarrons = document.getElementById("manchasMarrons")?.checked;
    let mofoCinza = document.getElementById("mofoCinza")?.checked;
    let galhosQuebradicos = document.getElementById("galhosQuebradicos")?.checked;
    let insetos = document.getElementById("insetos")?.checked;
    let soloEncharcado = document.getElementById("soloEncharcado")?.checked;

    let saida = "";

    // Regras simples
    if(manchas && murchas){
        saida += "Possível <strong>Míldio</strong>. (manchas + murcha)<br>";
    }

    if(poeira){
        saida += "Possível <strong>Oídio</strong>. (pó branco)<br>";
    }
    
    if(frutos){
        saida += "Possível <strong>Podridão negra</strong>. (frutos escurecidos)<br>";
    }

    if(caule){
        saida += "Possível <strong>Cancro</strong>.<br>";
    }

    if(manchasMarrons && mofoCinza){
    saida += "Possível <b>Botrytis (Mofo Cinzento)</b>. (manchas marrons + mofo cinza)<br>";
    }

    if(galhosQuebradicos && murchas){
    saida += "Possível <b>Estresse hídrico</b>. (galhos frágeis + folhas murchas)<br>";
    }

    if(insetos && folhasMurchas){
    saida += "Possível <b>Ataque de ácaros</b>. (insetos + folhas murchas)<br>";
    }

    if(soloEncharcado && folhasMurchas){
    saida += "Possível <b>Asfixia radicular</b>. (solo encharcado + murcha)<br>";
    }

    if(manchas && poeira){
    saida += "Possível <b>Infecção combinada: Míldio + Oídio</b>. (manchas + pó branco)<br>";
    }

    if(manchasMarrons && frutos){
    saida += "Possível <b>Podridão ácida</b>. (manchas marrons + frutos moles/escuros)<br>";
    }

    if(saida === ""){
        saida = "Nenhuma doença identificada com os sintomas selecionados.";
    }

    r.innerHTML = saida;
    r.style.display = 'block';
}
</script>
</body>
</html>